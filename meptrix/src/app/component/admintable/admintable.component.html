<!-- component -->
<div class="flex items-center justify-center min-h-screen bg-white">
  <div class="relative p-6 px-0 overflow-scroll overflow-x-auto shadow-md sm:rounded-lg">

    <div class="p-4">
			<label for="table-search" class="sr-only">Search</label>
			<div class="relative mt-1">
				<div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
					<svg class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20"
						xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd"
							d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
							clip-rule="evenodd"></path>
					</svg>
				</div>
				<input type="text" id="table-search" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-80 pl-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"   [(ngModel)]="searchQuery" (input)="filterData()"  placeholder="Search By Email">
        </div>
			</div>

    <table class="w-full text-left table-auto min-w-max">
  <thead>
    <tr>
      <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50" (click)="sortTable('profile')">
        <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">Profile</p>
    </th>
      <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50" (click)="sortTable('Email')">
        <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">Namel</p>
      </th>
      <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50" (click)="sortTable('Name')">
        <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">Email</p>
      </th>
      <th class="p-4 rounded-md border-y border-blue-gray-100 bg-blue-gray-50/50 hover:shadow-md" (click)="sortTable('Branch')">
        <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">Branch</p>
      </th>
      <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50" (click)="sortTable('year')">
        <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">year</p>
      </th>
      <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50" (click)="sortTable('Role')">
        <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">Role</p>
      </th>

      <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
        <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70"></p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of filteredData; let groupIndex = index">
      <td class="p-4 border-b border-blue-gray-50">
        <div class="flex items-center gap-3">
          <img [src]="item.profileImage" alt="Spotify" class="inline-block relative object-center !rounded-full w-12 h-12 border border-blue-gray-50 bg-blue-gray-50/50 object-contain p-1">
        </div>
      </td>
      <td class="p-4 border-b border-blue-gray-50">
        <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">{{item.name}}</p>
      </td>
      <td class="p-4 border-b border-blue-gray-50">
        <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">{{item.email}}</p>
      </td>
      <td class="p-4 border-b border-blue-gray-50">
        <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">{{item.branch}}</p>
      </td>
      <td class="p-4 border-b border-blue-gray-50">
        <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">{{item.year}}</p>
      </td>
      <td class="p-4 border-b border-blue-gray-50">
        <div class="w-max">
          <div class="relative grid items-center px-2 py-1 font-sans text-xs font-bold text-green-900 uppercase rounded-md select-none whitespace-nowrap bg-green-500/20" style="opacity: 1;">
            <span class="">{{item.roles.role}}</span>
          </div>
        </div>
      </td>
      <td class="p-4 border-b border-blue-gray-50">
        <button class="relative align-middle select-none font-sans font-medium text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none w-10 max-w-[40px] h-10 max-h-[40px] rounded-lg text-xs text-gray-900 hover:bg-gray-900/10 active:bg-gray-900/20" type="button" (click)="editItem(item)">
          <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-4 h-4">
              <path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"></path>
            </svg>
          </span>
        </button>
      </td>
    </tr>
  </tbody>
</table>

</div>


<ng-container *ngIf="showEditCard">
  <app-edit-card
    [profile]="selectedItem.profile"
    [name]="selectedItem.name"
    [email]="selectedItem.email"
    [role]="selectedItem.role"
    (updateClicked)="updateItem()"
    (deleteClicked)="deleteItem()"
    (cancelClicked)="cancelEdit()"
  ></app-edit-card>
</ng-container>

</div>
